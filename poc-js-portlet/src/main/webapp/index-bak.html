<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-3.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="angularjsPortletDemo" th:id="${portletId}">
</div>

<!-- Bootstrap Angular -->
<script type="application/javascript" th:inline="javascript">
    (function() {
        if (typeof(AUI) !== 'undefined') {
            /* We are within Liferay */
            AUI().ready(function() {
                startAngular();
            });
        } else {
            document.addEventListener("DOMContentLoaded", function(event) {
                startAngular();
            });
        }
        function startAngular() {
            var ajaxURL = /*[[${ajaxURL}]]*/ "/testdata/";
            var isStandalone = /*[[${standalone}]]*/ true;
            var authenticatedUser = /*[[${authenticatedUser}]]*/ "anonymous";
            var portletId = /*[[${portletId}]]*/ 'angularjsPortletDemo';
            var portletAppContextPath = /*[[${portletAppContextPath}]]*/ '';
            var app = angular.module('angularjsPortletDemo');
            app.constant('ajaxUrl', ajaxURL);
            app.constant('isStandalone', isStandalone);
            app.constant('authenticatedUser', authenticatedUser);
            app.constant('portletId', portletId);
            app.constant('portletAppContextPath', portletAppContextPath);
            var appRootElem = document.getElementById(portletId);
            angular.bootstrap(appRootElem, ['angularjsPortletDemo']);
        }
    })();
</script>

<script type="application/javascript" src="js/vendor.js" th:if="${standalone}"></script>
<script type="application/javascript" src="js/app.js" th:if="${standalone}"></script>
<script type="application/javascript" src="//localhost:35729/livereload.js" th:if="${standalone}"></script>

</body>
</html>